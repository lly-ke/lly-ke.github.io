var w=($,c,r)=>new Promise((f,h)=>{var u=a=>{try{_(r.next(a))}catch(m){h(m)}},g=a=>{try{_(r.throw(a))}catch(m){h(m)}},_=a=>a.done?f(a.value):Promise.resolve(a.value).then(u,g);_((r=r.apply($,c)).next())});import{u as N,k as T,a as V,m as R}from"./index.d750e11f.js";import{a as L,l as p,b as M,u as O,p as P,q,r as z,o as n,e as l,f as e,h as t,t as o,B as D,i as x,F as y,v as C,x as j,n as U,g as B,w as E}from"./vendor.e80f1292.js";import{u as G}from"./follwing.888d1de0.js";const H={class:"profile-page"},J={class:"user-info"},K={class:"container"},Q={class:"row"},W={class:"col-xs-12 col-md-10 offset-md-1"},X=["src"],Y=e("i",{class:"ion-gear-a"},null,-1),Z=x(" Edit Profile Settings "),ss=[Y,Z],es=e("i",{class:"ion-plus-round"},null,-1),ts={class:"container"},os={class:"row"},ns={class:"col-xs-12 col-md-10 offset-md-1"},ls={class:"articles-toggle"},as={class:"nav nav-pills outline-active"},is=["onClick"],rs={class:"article-meta"},us=["src"],cs={class:"info"},ds={href:"",class:"author"},_s={class:"date"},ms=["onClick"],fs=e("i",{class:"ion-heart"},null,-1),hs=e("span",null,"Read more...",-1),vs={class:"tag-list"},ys=L({setup($){return w(this,null,function*(){let c,r,f=["My Articles","Favorited Articles"],h=p(f),u=p("My Articles"),g=M(),_=O(),m=N().userInfo,k=_.params.username,b=p([]);P(()=>w(this,null,function*(){u.value===f[0]?b.value=(yield R({author:k})).data.articles:b.value=(yield R({favorited:k})).data.articles}));let i=p(([c,r]=q(()=>T(k)),c=yield c,r(),c).data.profile);return(ps,v)=>{const A=z("router-link");return n(),l("div",H,[e("div",J,[e("div",K,[e("div",Q,[e("div",W,[e("img",{src:t(i).image,class:"user-img"},null,8,X),e("h4",null,o(t(i).username),1),e("p",null,o(t(i).bio),1),t(i).username===t(m).username?(n(),l("button",{key:0,onClick:v[0]||(v[0]=s=>t(g).push("/user/settings")),class:"btn btn-sm btn-outline-secondary action-btn"},ss)):(n(),l("button",{key:1,onClick:v[1]||(v[1]=s=>t(G)(D(t(i)).following,t(i).username)),class:"btn btn-sm btn-outline-secondary action-btn"},[es,x(" \xA0 "+o(`${t(i).following?"Unfollow":"Follow"} ${t(i).username}`),1)]))])])])]),e("div",ts,[e("div",os,[e("div",ns,[e("div",ls,[e("ul",as,[(n(!0),l(y,null,C(t(h),s=>(n(),l("li",{class:"nav-item",key:s,onClick:I=>j(u)?u.value=s:u=s},[e("span",{class:U(["nav-link cursor-pointer",s===t(u)?"active":null])},o(s),3)],8,is))),128))])]),(n(!0),l(y,null,C(t(b),(s,I)=>{var F,S;return n(),l("div",{class:"article-preview",key:s.slug},[e("div",rs,[B(A,{to:`/user/profile/${(F=s.author)==null?void 0:F.username}`},{default:E(()=>{var d;return[e("img",{src:(d=s==null?void 0:s.author)==null?void 0:d.image},null,8,us)]}),_:2},1032,["to"]),e("div",cs,[e("a",ds,o((S=s==null?void 0:s.author)==null?void 0:S.username),1),e("span",_s,o(s==null?void 0:s.createdAt),1)]),e("button",{class:U(["btn btn-sm pull-xs-right",s.favorited?"btn-primary":"btn-outline-primary"]),onClick:d=>t(V)(s)},[fs,x(" "+o(s.favoritesCount),1)],10,ms)]),B(A,{to:`/article/${s.slug}`,class:"preview-link"},{default:E(()=>[e("h1",null,o(s.title),1),e("p",null,o(s.description),1),hs,e("ul",vs,[(n(!0),l(y,null,C(s.tags,d=>(n(),l("li",{class:"tag-default tag-pill tag-outline",key:d},o(d),1))),128))])]),_:2},1032,["to"])])}),128))])])])])}})}});export{ys as default};
