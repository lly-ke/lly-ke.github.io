import{a as w,u as A,b as C,l as _,o as i,e as n,f as t,F as c,v as h,t as v,h as o,C as p,D as f,G as V,x as L,i as T,H as U}from"./vendor.e80f1292.js";import{g as B,i as D,j as K}from"./index.d750e11f.js";const R={class:"editor-page"},E={class:"container page"},F={class:"row"},M={class:"col-md-10 offset-md-1 col-xs-12"},N={class:"error-messages"},W=t("button",{style:{display:"none"}},null,-1),$={class:"form-group"},j={class:"form-group"},G={class:"form-group"},H={class:"form-group"},I=["onKeydown"],P={class:"tag-list"},S=["onClick"],q=["onClick"],Q=w({setup(z){let x=A(),y=C(),e=_({title:"",description:"",body:"",tagList:[]}),r=_(""),g=_([]),u=x.params.slug;u&&B(u).then(l=>{e.value=l.data.article,console.log(e)});const b=()=>{r.value&&(e.value.tagList.push(r.value),r.value="")},k=()=>{u?D(u,e.value).then(l=>{l.data.errors?g.value=l.data.errors:y.push(`/article/${l.data.article.slug}`)}):K(e.value).then(l=>{l.data.errors?g.value=l.data.errors:y.push(`/article/${l.data.article.slug}`)})};return(l,a)=>(i(),n("div",R,[t("div",E,[t("div",F,[t("div",M,[t("ul",N,[(i(!0),n(c,null,h(o(g),(s,d)=>(i(),n(c,{key:d},[(i(!0),n(c,null,h(s,m=>(i(),n("li",{key:m},v(d)+" : "+v(m),1))),128))],64))),128))]),t("form",null,[W,t("fieldset",null,[t("fieldset",$,[p(t("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>o(e).title=s),type:"text",class:"form-control form-control-lg",placeholder:"Article Title"},null,512),[[f,o(e).title]])]),t("fieldset",j,[p(t("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>o(e).description=s),type:"text",class:"form-control",placeholder:"What's this article about?"},null,512),[[f,o(e).description]])]),t("fieldset",G,[p(t("textarea",{"onUpdate:modelValue":a[2]||(a[2]=s=>o(e).body=s),class:"form-control",rows:"8",placeholder:"Write your article (in markdown)"},null,512),[[f,o(e).body]])]),t("fieldset",H,[p(t("input",{type:"text",onKeydown:V(b,["enter"]),"onUpdate:modelValue":a[3]||(a[3]=s=>L(r)?r.value=s:r=s),class:"form-control",placeholder:"Enter tags"},null,40,I),[[f,o(r)]]),t("div",P,[(i(!0),n(c,null,h(o(e).tagList,(s,d)=>(i(),n("span",{key:d,class:"tag-pill tag-default"},[t("i",{onClick:m=>o(e).tagList.splice(d,1),class:"ion-close-round"},null,8,S),T(" "+v(s),1)]))),128))])]),t("button",{onClick:U(k,["self"]),class:"btn btn-lg btn-primary pull-xs-right"}," Publish Article ",8,q)])])])])])]))}});export{Q as default};
